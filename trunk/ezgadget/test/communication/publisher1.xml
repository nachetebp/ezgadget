<?xml version="1.0" encoding="UTF-8" ?> 

<Module>
  <ModulePrefs title="Map Controller" height="150" /> 
  <UserPref name="lat" 
    default_value="37441900" 
    publish="true" 
    group="geoinfo" /> 
  <UserPref name="long" 
    default_value="-122141900" 
    publish="true"

    group="geoinfo" /> 
 <Content type="html">
 <![CDATA[     
    <br/><br/>
    <table>

      <tr>
        <td>
          Latitude:
        </td>
        <td>
          <input type="text" id="txtLat" name="txtLat" value="">

        </td>
      </tr>
      <tr>
        <td>
          Longitude:
        </td>
        <td>

          <input type="text" id="txtLong" name="txtLong" value="">
        </td>
        <td>

          <input type="button" name="butUpdateLoc" name="butUpdateLoc" value="Update" onclick="updateLoc()">
        </td>

      </tr>
    </table>

    <script type="text/javascript">
      function updateLoc() {
        var newLat = parseFloat(_gel("txtLat").value) * 1000000;
        var newLong = parseFloat(_gel("txtLong").value) * 1000000;
        prefs.set("lat", newLat.toString(), "long", newLong.toString());

      }

      var prefs = new _IG_Prefs(__MODULE_ID__);
      var lat = prefs.getInt("lat") / 1000000;
      var long = prefs.getInt("long") / 1000000;
      _gel("txtLat").value = lat;
      _gel("txtLong").value = long;
  
    </script>
  ]]> 
  </Content>

</Module>